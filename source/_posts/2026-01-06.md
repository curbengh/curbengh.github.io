---
title: GRUB 2.14rc1 supports LUKS2 + Argon2 disk encryption
date: 2026-01-07
---

I had always used [grub-improved-luks2-git](https://aur.archlinux.org/packages/grub-improved-luks2-git) AUR package to boot up my [LUKS2+Argon2-encrypted](https://wiki.archlinux.org/title/GRUB#LUKS2) disk. Now that GRUB 2.14rc1 supports it, it's time to switch to the default package.

`$ sudo pacman -S grub`

pacman detected it conflicts with grub-improved-luks2-git and prompted for removal which is expected. Then, this is the most important part, "/etc/default/grub" config has been restored to the default during installation, so I had to replace it with my config. Thankfully, pacman made a backup at "/etc/default/grub.pacsave", so I just need to move it back.

`$ sudo mv /etc/default/grub.pacsave /etc/default/grub`

Reinstall and regenerate the GRUB configuration.

```
sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id="Arch Linux" --recheck
sudo grub-mkconfig -o /boot/grub/grub.cfg
```

`booloader-id` value can be anything. The whole line of grub-mkconfig can be replaced with just `update-grub` (without any option) if the command is available.
