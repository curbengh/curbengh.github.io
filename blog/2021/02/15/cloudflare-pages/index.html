<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Deploy Hexo to Cloudflare Pages | Ming Di Leom&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://mdleom.com/blog/2021/02/15/cloudflare-pages/"><meta name="description" content="Alternative to Netlify&#x2F;GitHub&#x2F;GitLab Pages"><meta property="article:author" content="Ming Di Leom"><meta property="article:tag" content="cloudflare"><meta property="og:type" content="article"><meta property="og:title" content="Deploy Hexo to Cloudflare Pages"><meta property="og:url" content="https://mdleom.com/blog/2021/02/15/cloudflare-pages/"><meta property="og:site_name" content="Ming Di Leom&#39;s Blog"><meta property="og:description" content="Alternative to Netlify&#x2F;GitHub&#x2F;GitLab Pages"><meta property="og:locale" content="en_GB"><meta property="og:image" content="https://mdleom.com/screenshot/blog/2021/02/15/cloudflare-pages/"><meta property="article:published_time" content="2021-02-15T00:00:00.000Z"><link rel="alternate" href="/atom.xml" title="Ming Di Leom's Blog" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/svg/favicon.svg" type="image/svg+xml" sizes="any"><link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png"><link rel="manifest" href="/site.webmanifest"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><link rel="stylesheet" href="/css/chameleon.css"><meta name="yandex-verification" content="e026a03a5dd06730"><meta name="generator" content="Hexo 7.1.1"></head><body><div id="container" class="container"><article id="post-cloudflare-pages" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><header id="header" class="header"><nav class="main-nav"><a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/blog/">Blog</a> <a class="main-nav-link" href="/about/">About</a> <a class="main-nav-link" href="/atom.xml">Feed</a> <a class="main-nav-link" href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">GitLab</a><div class="search-container"><form id="searchForm" method="post" action="https://duckduckgo.com/" rel="noopener external nofollow noreferrer" role="search"><input type="search" name="q" class="search-box" placeholder="Search..." title="Powered by DuckDuckGo" enterkeyhint="search"> <input type="hidden" name="sites" value="mdleom.com"> <input type="hidden" name="kd" value="-1"> <input type="hidden" name="kg" value="p"> <input type="hidden" name="kae" value="#000"> <a class="search-button" id="search-click"><img src="/svg/search.svg"></a></form></div></nav><nav class="mobile-nav"><a class="site-title" href="/">mdleom.com</a><ul class="mobile-nav-menu"><label for="mobile-menu-toggle"><a class="no-underline" id="menu-button">&#9776;</a></label> <input id="mobile-menu-toggle" type="checkbox"><ul id="mobile-nav-link"><div class="search-container"><form id="searchFormMob" method="post" action="https://duckduckgo.com/" rel="noopener external nofollow noreferrer" role="search"><input type="search" name="q" class="search-box" placeholder="Search..." title="Powered by DuckDuckGo" enterkeyhint="search"> <input type="hidden" name="sites" value="mdleom.com"> <input type="hidden" name="kd" value="-1"> <input type="hidden" name="kg" value="p"> <input type="hidden" name="kae" value="#000"> <a class="search-button" id="search-click-mobile"><img src="/svg/search.svg"></a></form></div><i>Powered by DuckDuckGo</i> <a class="mobile-nav-link-a" href="/">Home</a> <a class="mobile-nav-link-a" href="/blog/">Blog</a> <a class="mobile-nav-link-a" href="/about/">About</a> <a class="mobile-nav-link-a" href="/atom.xml">Feed</a> <a class="mobile-nav-link-a" href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">GitLab</a></ul></ul></nav></header><hr class="header-hr"><div class="article-inner"><header class="article-header"><h1 class="p-name entry-title article-title" itemprop="headline name">Deploy Hexo to Cloudflare Pages <a id="btnshare"><img src="/svg/share.svg"></a></h1></header><p class="p-summary">Alternative to Netlify/GitHub/GitLab Pages</p><div class="e-content article-entry" itemprop="articleBody"><p>Cloudflare Pages was initially <a href="https://blog.cloudflare.com/cloudflare-pages/" rel="noopener external nofollow noreferrer">announced</a> back in mid-December 2020. Since I’m already using its CDN on mdleom.com, it’s a no-brainer to me to adopt it. At first glance, this may result in better performance than my previous setup which puts Cloudflare CDN in front of Netlify. So, I went straight for the beta sign up.</p><p>The sign up email said that I will be notified when it’s ready for testing. Today I noticed it’s available on my dashboard, despite never receive the notification.</p><p><a href="/img/20210215/cf-pages-dash.png"><img srcset="/img/20210215/cf-pages-dash.png?f=auto&width=320 320w,/img/20210215/cf-pages-dash.png?f=auto&width=468 468w,/img/20210215/cf-pages-dash.png?f=auto&width=768 768w,/img/20210215/cf-pages-dash.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20210215/cf-pages-dash.png?f=auto" title="Cloudflare Pages Dash" alt="Cloudflare Pages Dash" loading="lazy"></a></p><p>The installation was straightforward, I just need to install Cloudflare Pages app on my GitHub account. Currently, it only supports GitHub, fortunately I have a GitHub <a href="https://github.com/curbengh/blog" rel="noopener external nofollow noreferrer">mirror</a> of my primary <a href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">blog repo</a> on GitLab.</p><p>Once the app is installed, I granted access to the blog repo. After that, it redirected back to the Cloudflare to continue setup. The next step is to specify the repo again. Then, I specified a unique project name, this has to be unique among <em>all</em> Cloudflare Pages; in this case, I use “curben” so it’s hosted at <a href="https://curben.pages.dev/" rel="noopener external nofollow noreferrer">curben.pages.dev</a>. I selected “Hexo” from the framework preset selections, this resulted in <code>hexo generate</code> build command and <code>public</code> output directory. Alternatively, you could also specify <code>npm run build</code> command if you install Hexo after <a href="https://github.com/hexojs/hexo-starter/commit/de0a52f421e9e64d8d6dbf59037b822df0d992f9" rel="noopener external nofollow noreferrer">4 Oct 2019</a>; this convention is similar to Svelte and Vue.</p><p><a href="/img/20210215/cf-pages-project.png"><img srcset="/img/20210215/cf-pages-project.png?f=auto&width=320 320w,/img/20210215/cf-pages-project.png?f=auto&width=468 468w,/img/20210215/cf-pages-project.png?f=auto&width=768 768w,/img/20210215/cf-pages-project.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20210215/cf-pages-project.png?f=auto" title="Clouflare Pages build settings" alt="Clouflare Pages build settings" loading="lazy"></a></p><p>Once configured, I just need to wait for the blog to be built and deployed. My blog is deployed to <a href="https://curben.pages.dev/" rel="noopener external nofollow noreferrer">curben.pages.dev</a> and <a href="https://6c9d9856.curben.pages.dev/" rel="noopener external nofollow noreferrer">6c9d9856.curben.pages.dev</a>, the later is a snapshot of the build at that time.</p><p>Every push to the git repo will trigger a new build and subsequently a new snapshot; in my case, curben.pages.dev always points to the latest snapshot. Having a snapshot means I can easily revert to previous one without having to revert git commits, though it’s not available yet. This feature is not new, it was one of the earliest features of Netlify that differentiate itself from other static site hosting.</p><p><a href="/img/20210215/cf-pages-deploy.png"><img srcset="/img/20210215/cf-pages-deploy.png?f=auto&width=320 320w,/img/20210215/cf-pages-deploy.png?f=auto&width=468 468w,/img/20210215/cf-pages-deploy.png?f=auto&width=768 768w,/img/20210215/cf-pages-deploy.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20210215/cf-pages-deploy.png?f=auto" title="Cloudflare Pages build progress" alt="Cloudflare Pages build progress" loading="lazy"></a></p><p>Speaking of Netlify, I haven’t replace it with Clouflare Pages and currently not planning to. Instead, I deploy my blog (including <a href="http://xw226dvxac7jzcpsf4xb64r4epr6o5hgn46dxlqk7gnjptakik6xnzqd.onion/" rel="noopener external nofollow noreferrer">.onion</a> and <a href="http://mdleom.i2p/" rel="noopener external nofollow noreferrer">Eepsite</a>) to two identical web servers that can failover to the following mirrors:</p><ol><li><a href="https://curben.pages.dev/" rel="noopener external nofollow noreferrer">curben.pages.dev</a></li><li><a href="https://curben.netlify.app/" rel="noopener external nofollow noreferrer">curben.netlify.app</a></li><li><a href="https://curben.gitlab.io/" rel="noopener external nofollow noreferrer">curben.gitlab.io</a></li><li><a href="https://curbengh.github.io/" rel="noopener external nofollow noreferrer">curbengh.github.io</a></li></ol></div><footer class="article-footer"><ul class="article-meta"><li><span class="label">Published Date:</span> <time class="dt-published" datetime="2021-02-15T00:00:00.000Z" itemprop="datePublished">15 <a href="/blog/2021/02/" title="See February 2021's posts">Feb</a> <a href="/blog/2021/" title="See 2021's posts">2021</a></time></li><li><span class="label">Tag:</span><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cloudflare/" rel="tag">Cloudflare</a></li></ul></li><li><span class="label">Source:</span> <a href="https://gitlab.com/curben/blog/-/blob/master/source/_posts/cloudflare-pages.md" rel="noopener external nofollow noreferrer">cloudflare-pages.md</a></li><hr></ul></footer></div><nav id="article-nav" class="article-nav"><span class="article-nav-link-wrap newer"><strong>Newer</strong> <a href="/blog/2021/03/09/nixos-oracle/"><div class="article-nav-title">Install NixOS on Oracle Cloud</div></a></span><span class="article-nav-link-wrap older"><strong>Older</strong> <a href="/blog/2020/11/22/cloudflare-hsts/"><div class="article-nav-title">Enabling HSTS preload in Cloudflare</div></a></span></nav></article></div><footer id="footer" class="post-footer footer"><hr><div id="copyright" class="copyright">&copy; 2018-2024 Ming Di Leom. <a href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">Powered by </a><a href="https://hexo.io/" rel="noopener external nofollow noreferrer">Hexo</a> with <a href="https://gitlab.com/curben/blog/tree/master/themes/chameleon" rel="noopener external nofollow noreferrer">Chameleon</a> theme.<br>Content is available under <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="noopener external nofollow noreferrer license" itemprop="license">CC-BY-SA 4.0</a>, unless indicated otherwise.<br><a class="main-nav-link" href="/disclaimer/">Disclaimer</a> <a class="main-nav-link" href="https://stats.uptimerobot.com/1394zup2LQ" rel="noopener external nofollow noreferrer">Status</a> <a class="main-nav-link" href="https://xw226dvxac7jzcpsf4xb64r4epr6o5hgn46dxlqk7gnjptakik6xnzqd.onion/" rel="noopener external nofollow noreferrer">Onion</a> <a class="main-nav-link" href="https://gitlab.com/curben/blog#mirrors" rel="noopener external nofollow noreferrer">Eepsite</a></div></footer><script src="/libs/clipboard-2.0.6.min.js" defer></script><script src="/js/copy-button.js"></script><script src="/js/chameleon.js"></script></body></html>