<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Dark Reader breaks image view in Firefox | Ming Di Leom&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://mdleom.com/blog/2019/06/28/view-image-dark-reader-firefox/"><meta name="description" content="Use this workaround to view the whole image."><meta property="article:author" content="Ming Di Leom"><meta property="article:tag" content="firefox"><meta property="og:type" content="article"><meta property="og:title" content="Dark Reader breaks image view in Firefox"><meta property="og:url" content="https://mdleom.com/blog/2019/06/28/view-image-dark-reader-firefox/"><meta property="og:site_name" content="Ming Di Leom&#39;s Blog"><meta property="og:description" content="Use this workaround to view the whole image."><meta property="og:locale" content="en_GB"><meta property="og:image" content="https://mdleom.com/screenshot/blog/2019/06/28/view-image-dark-reader-firefox/"><meta property="article:published_time" content="2019-06-28T00:00:00.000Z"><link rel="alternate" href="/atom.xml" title="Ming Di Leom's Blog" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/svg/favicon.svg" type="image/svg+xml" sizes="any"><link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png"><link rel="manifest" href="/site.webmanifest"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><link rel="stylesheet" href="/css/chameleon.css"><meta name="yandex-verification" content="e026a03a5dd06730"><meta name="generator" content="Hexo 7.1.1"></head><body><div id="container" class="container"><article id="post-view-image-dark-reader-firefox" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><header id="header" class="header"><nav class="main-nav"><a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/blog/">Blog</a> <a class="main-nav-link" href="/about/">About</a> <a class="main-nav-link" href="/atom.xml">Feed</a> <a class="main-nav-link" href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">GitLab</a><div class="search-container"><form id="searchForm" method="post" action="https://duckduckgo.com/" rel="noopener external nofollow noreferrer" role="search"><input type="search" name="q" class="search-box" placeholder="Search..." title="Powered by DuckDuckGo" enterkeyhint="search"> <input type="hidden" name="sites" value="mdleom.com"> <input type="hidden" name="kd" value="-1"> <input type="hidden" name="kg" value="p"> <input type="hidden" name="kae" value="#000"> <a class="search-button" id="search-click"><img src="/svg/search.svg"></a></form></div></nav><nav class="mobile-nav"><a class="site-title" href="/">mdleom.com</a><ul class="mobile-nav-menu"><label for="mobile-menu-toggle"><a class="no-underline" id="menu-button">&#9776;</a></label> <input id="mobile-menu-toggle" type="checkbox"><ul id="mobile-nav-link"><div class="search-container"><form id="searchFormMob" method="post" action="https://duckduckgo.com/" rel="noopener external nofollow noreferrer" role="search"><input type="search" name="q" class="search-box" placeholder="Search..." title="Powered by DuckDuckGo" enterkeyhint="search"> <input type="hidden" name="sites" value="mdleom.com"> <input type="hidden" name="kd" value="-1"> <input type="hidden" name="kg" value="p"> <input type="hidden" name="kae" value="#000"> <a class="search-button" id="search-click-mobile"><img src="/svg/search.svg"></a></form></div><i>Powered by DuckDuckGo</i> <a class="mobile-nav-link-a" href="/">Home</a> <a class="mobile-nav-link-a" href="/blog/">Blog</a> <a class="mobile-nav-link-a" href="/about/">About</a> <a class="mobile-nav-link-a" href="/atom.xml">Feed</a> <a class="mobile-nav-link-a" href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">GitLab</a></ul></ul></nav></header><hr class="header-hr"><div class="article-inner"><header class="article-header"><h1 class="p-name entry-title article-title" itemprop="headline name">Dark Reader breaks image view in Firefox <a id="btnshare"><img src="/svg/share.svg"></a></h1></header><p class="p-summary">Use this workaround to view the whole image.</p><div class="e-content article-entry" itemprop="articleBody"><p>When using <a href="https://addons.mozilla.org/en-US/firefox/addon/darkreader/" rel="noopener external nofollow noreferrer">Dark Reader</a> (DR) add-on with “Filter” or “Filter+” mode in Firefox (FF 67 as of writing), you may encounter this issue where only the lower half of an image is shown.</p><p><a href="/img/20190628/dark-reader-before.png"><img srcset="/img/20190628/dark-reader-before.png?f=auto&width=320 320w,/img/20190628/dark-reader-before.png?f=auto&width=468 468w,/img/20190628/dark-reader-before.png?f=auto&width=768 768w,/img/20190628/dark-reader-before.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20190628/dark-reader-before.png?f=auto" title="Image is only shown half" alt="Image is only shown half" loading="lazy"></a></p><p>To resolve it, add the following CSS rule to the DR’s setting via <strong>Dev tools</strong>. Prepend before the site-specific rules.</p><pre><code class="hljs css"><span class="hljs-keyword">@media</span> <span class="hljs-keyword">not</span> print &#123;
  <span class="hljs-selector-tag">img</span> &#123;
    <span class="hljs-attribute">bottom</span>: auto;
  &#125;
&#125;</code><button class="copy-button">Copy</button></pre><p><a href="/img/20190628/dark-reader-dev-tools.png"><img srcset="/img/20190628/dark-reader-dev-tools.png?f=auto&width=320 320w,/img/20190628/dark-reader-dev-tools.png?f=auto&width=468 468w,/img/20190628/dark-reader-dev-tools.png?f=auto&width=768 768w,/img/20190628/dark-reader-dev-tools.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20190628/dark-reader-dev-tools.png?f=auto" title="Dev tools of Dark Reader" alt="Dev tools of Dark Reader" loading="lazy"></a></p><p><a href="/img/20190628/dev-tools-demo.webp"><img srcset="/img/20190628/dev-tools-demo.webp?f=auto&width=320 320w,/img/20190628/dev-tools-demo.webp?f=auto&width=468 468w,/img/20190628/dev-tools-demo.webp?f=auto&width=768 768w,/img/20190628/dev-tools-demo.webp?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20190628/dev-tools-demo.webp?f=auto" title="A video of Dev Tools" alt="A video of Dev Tools" loading="lazy"></a></p><p>After adding the CSS, you should be able to see the whole image. But the fix is not perfect, the image sticks to the top rather than centred.</p><p><a href="/img/20190628/dark-reader-after.png"><img srcset="/img/20190628/dark-reader-after.png?f=auto&width=320 320w,/img/20190628/dark-reader-after.png?f=auto&width=468 468w,/img/20190628/dark-reader-after.png?f=auto&width=768 768w,/img/20190628/dark-reader-after.png?f=auto 800w" sizes="(max-width: 320px) 320px,(max-width: 468px) 468px,(max-width: 768px) 768px,800px" src="/img/20190628/dark-reader-after.png?f=auto" title="Full image is shown" alt="Full image is shown" loading="lazy"></a></p><p>The above CSS is to override the default CSS used by FF to display an image. The default CSS is located at <code>resource://content-accessible/TopLevelImageDocument.css</code>, accessible via Style Editor (Shift + F7, don’t enable Caret Browsing when prompted). It’s used to centre the image. Here is a snippet of “TopLevelImageDocument.css”,</p><pre><code class="hljs css"><span class="hljs-keyword">@media</span> <span class="hljs-keyword">not</span> print &#123;
  <span class="hljs-selector-tag">img</span> &#123;
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">margin</span>: auto;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  &#125;
&#125;</code><button class="copy-button">Copy</button></pre><p>The <code>bottom: 0;</code> rule is the source of the issue, though it’s more of a compatibility issue between DR and FF.</p><p>I got the information from the issue report (<a href="https://github.com/darkreader/darkreader/issues/1142" rel="noopener external nofollow noreferrer">#1142</a>). It’s unlikely that the fix will be in the default DR, so you need to re-apply the workaround every time DR is updated.</p><p>Credit: Screenshots and screen recording contain a photo by <a href="https://unsplash.com/@ymwang" rel="noopener external nofollow noreferrer">Yunming Wang</a> on <a href="https://unsplash.com/photos/GY2udBfnA6k" rel="noopener external nofollow noreferrer">Unsplash</a>.</p></div><footer class="article-footer"><ul class="article-meta"><li><span class="label">Published Date:</span> <time class="dt-published" datetime="2019-06-28T00:00:00.000Z" itemprop="datePublished">28 <a href="/blog/2019/06/" title="See June 2019's posts">Jun</a> <a href="/blog/2019/" title="See 2019's posts">2019</a></time></li><li><span class="label">Tag:</span><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/firefox/" rel="tag">Firefox</a></li></ul></li><li><span class="label">Source:</span> <a href="https://gitlab.com/curben/blog/-/blob/master/source/_posts/view-image-dark-reader-firefox.md" rel="noopener external nofollow noreferrer">view-image-dark-reader-firefox.md</a></li><hr></ul></footer></div><nav id="article-nav" class="article-nav"><span class="article-nav-link-wrap newer"><strong>Newer</strong> <a href="/blog/2019/08/12/firefox-containers/"><div class="article-nav-title">Firefox Multi-Account Containers</div></a></span><span class="article-nav-link-wrap older"><strong>Older</strong> <a href="/blog/2019/06/09/engadget-redirect-guce/"><div class="article-nav-title">Prevent Engadget from redirect to guce</div></a></span></nav></article></div><footer id="footer" class="post-footer footer"><hr><div id="copyright" class="copyright">&copy; 2018-2024 Ming Di Leom. <a href="https://gitlab.com/curben/blog" rel="noopener external nofollow noreferrer">Powered by </a><a href="https://hexo.io/" rel="noopener external nofollow noreferrer">Hexo</a> with <a href="https://gitlab.com/curben/blog/tree/master/themes/chameleon" rel="noopener external nofollow noreferrer">Chameleon</a> theme.<br>Content is available under <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="noopener external nofollow noreferrer license" itemprop="license">CC-BY-SA 4.0</a>, unless indicated otherwise.<br><a class="main-nav-link" href="/disclaimer/">Disclaimer</a> <a class="main-nav-link" href="https://stats.uptimerobot.com/1394zup2LQ" rel="noopener external nofollow noreferrer">Status</a> <a class="main-nav-link" href="https://xw226dvxac7jzcpsf4xb64r4epr6o5hgn46dxlqk7gnjptakik6xnzqd.onion/" rel="noopener external nofollow noreferrer">Onion</a> <a class="main-nav-link" href="https://gitlab.com/curben/blog#mirrors" rel="noopener external nofollow noreferrer">Eepsite</a></div></footer><script src="/libs/clipboard-2.0.6.min.js" defer></script><script src="/js/copy-button.js"></script><script src="/js/chameleon.js"></script></body></html>